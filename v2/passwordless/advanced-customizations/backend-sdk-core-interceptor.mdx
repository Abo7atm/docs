---
id: backend-sdk-core-interceptor
title: Backend SDK Core Interceptor
hide_title: true
---

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs"
import TabItem from '@theme/TabItem';

<!-- COPY DOCS -->
<!-- ./emailpassword/advanced-customizations/backend-sdk-core-interceptor.mdx -->

# Backend SDK Core Interceptor

:::important
This feature is only available for SDKs versions:
- NodeJS >= `v16.5.0`
- Python >= `v0.16.8`
- GoLang >= `v0.6.6`
:::

This hook can be used to intercept all outgoing requests from the backend SDK to the core. The request can be captured and modified before it is sent to the core.

The hook is useful for debugging purposes and for adding custom headers to the request.

The `networkInterceptor` function takes an HTTP request and returns the same request object or a modified request object. 
Users can modify the HTTP method, query params, headers and body of the request.

## Example Use

<BackendSDKTabs>
<TabItem value="nodejs">

```tsx
import Session from "supertokens-node/recipe/session";
import HttpRequest from "supertokens-node/types";

SuperTokens.init({
            supertokens: {
                connectionURI: "https://dev-1c55f9c124d311ee9fa15fb58a3e1b69-us-east-1.aws.supertokens.io:3568/appid-<APP_ID>",
                apiKey: "9-o4QBtuWy65L1iZskNiug1DRFKWh6",
                // highlight-start
                networkInterceptor: (request: HttpRequest, userContext: any) => {
                    console.log("http request to core: ", request)
                    // this can also be used to return a modified request object.
                    return request;
                },
                // highlight-end
            },
            appInfo: {
                apiDomain: "api.supertokens.io",
                appName: "SuperTokens",
                websiteDomain: "supertokens.io",
            },
            recipeList: [
                Session.init()
            ],
        });
```
</TabItem>
<TabItem value="go">

```go
import (
    "log"
    "net/http"

    "github.com/supertokens/supertokens-golang/recipe/session"
    "github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
supertokens.Init(supertokens.TypeInput{
        Supertokens: &supertokens.ConnectionInfo{
            ConnectionURI: "https://dev-1c55f9c124d311ee9fa15fb58a3e1b69-us-east-1.aws.supertokens.io:3568/appid-<APP_ID>",
            APIKey: "9-o4QBtuWy65L1iZskNiug1DRFKWh6",
            // highlight-start
            NetworkInterceptor: func(request *http.Request, context supertokens.UserContext) *http.Request {
				log.Print("http request to core: %+v", request)
				return request
			},
            // highlight-end
        },
        AppInfo: supertokens.AppInfo{
            AppName: "SuperTokens",
            APIDomain: "api.supertokens.io",
            WebsiteDomain: "supertokens.io",
        },
        RecipeList: []supertokens.Recipe{
            session.Init(nil),
        },
    })
}
```
</TabItem>
<TabItem value="python">

```python
from typing import Dict, Any, Optional, str

from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import session

def intercept(
        url: str,
        method: str,
        headers: Dict[str, Any],
        params: Optional[Dict[str, Any]],
        body: Optional[Dict[str, Any]],
        _: Optional[Dict[str, Any]], # user_context
    ):
        print("http request to core: ", url, method, headers, params, body)
        return url, method, headers, params, body

init(
    app_info=InputAppInfo(
        app_name="SuperTokens",
        api_domain="api.supertokens.io",
        website_domain="supertokens.io",
    ),
    supertokens_config=SupertokensConfig(
        connection_uri="https://dev-1c55f9c124d311ee9fa15fb58a3e1b69-us-east-1.aws.supertokens.io:3568/appid-<APP_ID>",
        api_key="9-o4QBtuWy65L1iZskNiug1DRFKWh6",
        # highlight-next-line
        network_interceptor=intercept,
    ),
    framework='django',
    recipe_list=[
        session.init(),
    ],
    mode='asgi'
)
```
</TabItem>
</BackendSDKTabs>
