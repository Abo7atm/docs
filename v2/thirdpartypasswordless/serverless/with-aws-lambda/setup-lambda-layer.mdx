---
id: setup-lambda-layer
title: Set up Lambda layer
hide_title: true
---

<!-- ./thirdpartyemailpassword/serverless/with-aws-lambda/setup-lambda-layer.mdx -->
<!-- 1 -->

import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';

# Set up Lambda layer

## 1) Create Lambda layer with required libraries

<BackendSDKTabs disableGolang>
<TabItem value="nodejs">

```bash
mkdir lambda && cd lambda

npm i -s supertokens-node @middy/core @middy/http-cors
mkdir nodejs && cp -r node_modules nodejs
zip -r supertokens-node.zip nodejs/
```

</TabItem>
<TabItem value="python">

```bash
mkdir lambda && cd lambda

pip install --target ./python fastapi uvicorn mangum nest_asyncio supertokens-python
cd python && rm -r *dist-info **/__pycache__ && cd ..
zip -r supertokens-python.zip python/
```

</TabItem>
</BackendSDKTabs>

## 2) Upload SuperTokens lambda layer
- Open AWS Lambda dashboard and click on layers:
<img src="/img/integration-lambda/sidebar.png" alt="AWS Lambda sidebar UI" height="300" />

- Click "Create Layer" button:
<img src="/img/integration-lambda/create-layer.png" alt="Create layer button UI" width="600" />

- Give a name for your layer, upload the zip and select the runtime
<BackendSDKTabs disableGolang>
  <TabItem value="nodejs">
    <img src="/img/integration-lambda/node-lambda-layer.png" alt="Lambda layer node configuration UI"/>
  </TabItem>
  <TabItem value="python">
    <img src="/img/integration-lambda/python-lambda-layer.png" alt="Lambda layer python configuration UI"/>
  </TabItem>
</BackendSDKTabs>

