---
id: backup-codes
title: Implementing backup codes
hide_title: true
show_ui_switcher: true
---

# Implementing backup codes

Backup codes is one of the ways in which end users can recover their account in case they loose their second factor device. At the moment, SuperTokens does not have an in built implementation for backup codes, however, you can customise our SDKs to add this feature. This guide will show you how to implement backup codes in your application.

:::note
[Here is an example](https://github.com/supertokens/supertokens-auth-react/tree/master/examples/with-multifactorauth-recovery-codes) of how you can implement backup codes in your application if you are using our pre built UI.
:::

## How it works
We allow users to generate a backup code after they have setup MFA. This backup code will be associated with their userID in their user metadata JSON. Once users want to use their backup code, we show them a UI to enter their code which calls an API that verifies the backup code and adds a flag in their session indicating that they have correctly supplied a backup code. Post that, we use this flag to allow users to create a new MFA device (for example a new TOTP device), even if they already have one registered on their account. User can then go about adding a new device and completing MFA using that.

## Step 1: Adding an API to generate backup codes on the backend

## Step 2: Allowing users to generate a backup code when they finish MFA setup

## Step 3: Showing users UI to use their backup code on the MFA challenge UI

## Step 4: Modifying the user's session to mark that they have verified their backup code

## Step 5: Force allowing users to setup a new device