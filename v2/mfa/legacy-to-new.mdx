---
id: legacy-to-new
title: Migration from legacy MFA to new MFA method
hide_title: true
---

import MFAPaidBanner from '../community/reusableMD/mfa/MFAPaidBanner.mdx'
import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';
import PythonSyncAsyncSubTabs from "/src/components/tabs/PythonSyncAsyncSubTabs";
import CoreInjector from "/src/components/coreInjector"
import CustomAdmonition from "/src/components/customAdmonition"

<MFAPaidBanner />

# Migration from legacy MFA to new MFA method

This page only applies if you have used our [legacy MFA method](./legacy-method/how-it-works) and want to migrate to the new MFA method.

From a code point of view, [here is the diff](https://github.com/supertokens/supertokens-auth-react/commit/05f2ea759f44405f0d30ddc7ab7ddfd7ae7a5e02) of all changes required:
- We no longer need the custom `secondFactoeClaim` since the MFA recipe adds its [own MFA claim](./important-concepts#how-are-auth-factors-marked-as-completed).
- On the backend, we initialise the MFA recipe:
    - In the example app, we use email password and social login as the first factor, so the we set `firstFactors` variable to to `[FactorIds.EMAILPASSWORD, FactorIds.THIRDPARTY]`.
    - We also set the required second factor to return OTP phone, but you can set it to OTP email as well.
    - We override the `resyncSessionAndFetchMFAInfoPUT` API to sync old session claim with the new one. This API is called from the frontend during sign in, and also whenever the 

# TODO.. stuff above is also wrong.