---
sidebar_position: 1
title: Introduction
hide_title: true
---

import MFAPaidBanner from '../community/reusableMD/mfa/MFAPaidBanner.mdx'

<MFAPaidBanner />

# Introduction

## Features
- Add Email or SMS based OTP as an auth factor.
- Add TOTP (Google authenticator app) as an auth factor.
- Allow access to APIs only if multi factor auth has been completed.
- Allow access to frontend routes only if multi factor auth has been completed.
- Use your custom UI or our pre built UI for the second factor auth.
- Allow individual users to choose if they want to enable multi factor auth or not.
- Step up authentication
- Separate MFA config per tenant
- You can customise the MFA recipe to also add:
    - Account recovery using backup codes
    - Skipping MFA for trusted devices for a period of time.

## Demo application
See our [example app on GitHub](https://github.com/supertokens/supertokens-auth-react/tree/master/examples/with-mfa) that uses NodeJS and React. It has email password + social login (thirdpartyemailpassword recipe) as the first factor, and SMS OTP (passwordless recipe) or TOTP the second factor (depending on what the user enables).

## Important concepts

### Auth factor IDs 
Each auth challenge has a factor ID in SuperTokens:
- Email password auth: `emailpassword`
- Social login / enterprise SSO auth: `thirdparty`
- Passwordless:
    - With email OTP: `email-otp`
    - With SMS OTP: `sms-otp`
    - With email magic link: `email-link`
    - With SMS magic link: `sms-link`
- TOTP: `totp`

These factor IDs will be used to configure the MFA requirements for users, and also will be used to indicate which auth challenges have been completed in the current session.

### Auth factor lifecycle
TODO..

### Limitations of MFA
Magic link via email / SMS is only supported as a first factor. The reason we don't support it as a second factor is that if the magic link is opened on a different device, there would be no reference to the existing session (which was created post first factor completion). This would lead to the creation of a brand new session if magic link is allowed as a first factor, else it would lead to an error state.

Instead, we support OTP based auth via email / SMS which achieves the same level of security as a magic link.