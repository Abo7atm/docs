---
title: Upsert connection uri domain
sidebar_label: put Upsert connection uri domain
sidebar_position: 21
description: >-
   Create or update a connection uri domain.
   
   SuperTokens subscription license key is required, if not using the base connection uri domain.
   
   This request must originate from public app and public tenant on the base
   connection uri domain.
   
   The `firstFactors` can be set to following values:
   
   - `null`: When set to `null`, all the login methods will be available for the connection URI domain (public app, public tenant).
   - `[]` (empty array): No login methods will be enabled for the connection URI domain (public app, public tenant).
   - `['factor1', 'factor2', ...]` (non-empty array): The list of login methods to enable for the connection URI domain (public app, public tenant). For eg. if this is set to `['emailpassword', 'thirdparty']`, the users of the tenant will be able to login using emailpassword and third party providers.
   
   List of built-in first factors are as follows:
   
   - Email password auth: `emailpassword`
   - Social login / enterprise SSO auth: `thirdparty`
   - Passwordless:
   - With email OTP: `otp-email`
   - With SMS OTP: `otp-phone`
   - With email magic link: `link-email`
   - With SMS magic link: `link-phone`
   
   If first factors are not specified while creating a new connection uri domain, all the login methods will be enabled by default.
   
   The `requiredSecondaryFactors` can be set to following values:
   - `null`: When set to `null`, no secondary factors will be required for the users of the connection URI domain (public app, public tenant).
   - `['factor1', 'factor2', ...]` (non-empty array): The list of factors that the users of the connection URI domain (public app, public tenant) must complete post the first factor login. For eg. if this is set to `['otp-phone', 'totp']`, the users of the tenant will be required to complete either phone OTP or TOTP post the first factor login.
   
   List of built-in secondary factors are as follows:
   
   - Email password auth: `emailpassword`
   - Social login / enterprise SSO auth: `thirdparty`
   - Passwordless:
   - With email OTP: `otp-email`
   - With SMS OTP: `otp-phone`
   - With email magic link: `link-email`
   - With SMS magic link: `link-phone`
   - Time based OTP: `totp`
   
   If updating an existing connection uri domain,
   1. core will keep the existing state of login methods and only update the ones that are specified in the request body.
   2. Core config will be merged into existing config. To delete a key in the config, use a null value
   
   Note: The core config must contain a unique connection to the storage layer, because sharing of database between 2 different connection uri domains is not allowed.
   
   Note: Updation of core config is not allowed for the default connectionUriDomain. In order to update config for the default connectionUriDomain, you must edit the config.yaml or the docker env directly.
page_type: api-reference
hide_title: true
---

<APIRequestPage apiName="cdi" method="put" path="/recipe/multitenancy/connectionuridomain/v2" title="Upsert connection uri domain" />
