{
  "path": "/recipe/multitenancy/connectionuridomain",
  "method": "put",
  "description": "This API is deprecated. Please use the v2 version of this API. In the v2 version of the API, the login methods are no longer enabled using the `emailPasswordEnabled`, `thirdPartyEnabled` and `passwordlessEnabled` inputs. Instead, they are enabled using factorIds (such as emailpassword, otp-email, etc) specified in the `firstFactors` and `requiredSecondaryFactors` inputs. Please refer [Multitenancy Docs](https://supertokens.com/docs/multitenancy/new-tenant) to know the list of factorIds available.\n\nNote: This deprecated API still accepts those `emailPasswordEnabled`, `thirdPartyEnabled` and `passwordlessEnabled` inputs for backward compatibility.\n\nCreate or update a connection uri domain.\n\nSuperTokens subscription license key is required, if not using the base connection uri domain.\n\nThis request must originate from public app and public tenant on the base\nconnection uri domain.\n\nIf creating a new connection uri domain, only the login methods set to true will be enabled and rest will be disabled by default.\n\n`firstFactors` and `requiredSecondaryFactors` can be set to null to remove all entries in the core, or a non empty string array to be updated in the core. Setting of empty array is disallowed.\n\nNote: the create/update will fail if a login method is not enabled and a relavant factor is added to either `firstFactors` or `requiredSecondaryFactors`. For example, `emailPasswordEnabled` cannot be set to `false` if `emailpassword` is present in the `firstFactors` array.\n\nIf updating an existing connection uri domain,\n1. core will keep the existing state of login methods and only update the ones that are specified in the request body.\n2. Core config will be merged into existing config. To delete a key in the config, use a null value\n\nNote: The core config must contain a unique connection to the storage layer, because sharing of database between 2 different connection uri domains is not allowed.\n\nNote: Updation of core config is not allowed for the default connectionUriDomain. In order to update config for the default connectionUriDomain, you must edit the config.yaml or the docker env directly.\n",
  "headers": {
    "rid": {
      "required": false,
      "schema": {
        "type": "string"
      }
    },
    "Authorization": {
      "required": false,
      "schema": {
        "type": "string"
      }
    },
    "cdi-version": {
      "description": "X.Y of the X.Y.Z CDI version.",
      "schema": {
        "type": "string"
      }
    }
  },
  "body": {
    "schema": {
      "application/json": {
        "allOf": [
          {
            "type": "object",
            "required": [
              "connectionUriDomain"
            ],
            "properties": {
              "connectionUriDomain": {
                "type": "string",
                "example": "core-1234.supertokens.io:3567"
              }
            }
          },
          {
            "$ref": "#/components/schemas/tenantInput"
          }
        ]
      }
    }
  },
  "deprecated": true,
  "responses": {
    "200": {
      "description": "Create or Update connection uri domain result",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "required": [
              "status",
              "createdNew"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "OK"
                ]
              },
              "createdNew": {
                "type": "boolean"
              }
            }
          }
        }
      }
    },
    "400": {
      "description": "error code 400",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string"
          }
        }
      }
    },
    "401": {
      "description": "error code 401",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "Invalid API key"
            ]
          }
        }
      }
    },
    "402": {
      "description": "error code 402",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "License Error"
            ]
          }
        }
      }
    },
    "404": {
      "description": "error code 404",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "Not Found"
            ]
          }
        }
      }
    },
    "500": {
      "description": "error code 500",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "Internal Error"
            ]
          }
        }
      }
    }
  }
}