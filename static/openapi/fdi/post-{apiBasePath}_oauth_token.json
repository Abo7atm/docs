{
  "path": "/{apiBasePath}/oauth/token",
  "method": "post",
  "description": "Exchanges an OAuth2 grant (e.g.: authorization code) for an access token (and optionally a refresh/id token) - for a detailed description of all input parameters please see the OAuth2 and OpenID Connect Core specs\n",
  "parameters": {
    "apiBasePath": {
      "name": "apiBasePath",
      "in": "path",
      "description": "Its value depends on the apiBasePath set by the user",
      "required": true,
      "schema": {
        "type": "string",
        "example": "auth"
      }
    }
  },
  "body": {},
  "responses": {
    "200": {
      "description": "Issued tokens",
      "content": {
        "application/json": {
          "schema": [
            {
              "type": "object",
              "required": [
                "expires_in",
                "token_type",
                "scope"
              ],
              "properties": {
                "access_token": {
                  "type": "string",
                  "description": "The access token issued by the authorization server."
                },
                "expires_in": {
                  "type": "number",
                  "description": "The lifetime in seconds of the access token (integer). For example, the value \"3600\" denotes that the access token will expire in one hour from the time the response was generated."
                },
                "id_token": {
                  "type": "string",
                  "description": "To retrieve a refresh token request the id_token scope."
                },
                "refresh_token": {
                  "type": "string",
                  "description": "The refresh token, which can be used to obtain new access tokens. To retrieve it add the scope \"offline\" to your access token request."
                },
                "scope": {
                  "type": "string",
                  "description": "The scope of the access token"
                },
                "token_type": {
                  "type": "string",
                  "description": "The type of the token issued"
                }
              }
            },
            {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "enum": [
                    "GENERAL_ERROR"
                  ]
                },
                "message": {
                  "type": "string"
                }
              }
            }
          ]
        }
      }
    },
    "400": {
      "description": "error code 400 for OAuth2 errors",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "error": {
                "type": "string",
                "example": "invalid_request"
              },
              "error_description": {
                "type": "string",
                "example": "Unsupported grant type: password"
              }
            }
          }
        }
      }
    },
    "404": {
      "description": "error code 404",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "Not Found"
            ]
          }
        }
      }
    },
    "500": {
      "description": "error code 500",
      "content": {
        "text/plain": {
          "schema": {
            "type": "string",
            "enum": [
              "Internal Error"
            ]
          }
        }
      }
    }
  }
}